{% extends 'base.html' %}
{% load static %}
{% block content %}

<h2>뷰가 커뮤니티</h2>

<table class="striped">
	<tr><th>작성자</th><th>제목</th><th>등록일</th></tr>
	{% for post in posts %}
	<tr>
		<td>{{ post.user }}</td>
		<td><a href = "{% url 'post:post_detail' post.pk %}">{{ post.title }}</a></td>
		<td>{{ post.created_at }}</td>
	</tr>
	{% endfor %}
</table>

{% if posts.has_other_pages %}
<ul class="paging">
	{% if posts.has_previous %}
	<li><a href="?page={{ posts.previous_page_number }}">&laquo;</a></li>
	{% else %}
	<li class="disabled"><span>&laquo;</span></li>
	{% endif %}

	{% for i in posts.paginator.page_range %}
	{% if posts.number == i %}
	<li><span style="text-decoration:underline;">{{ i }}</span></li>
	{% else %}
	<li class="discrimination"><a href="?page={{ i }}">{{ i }}</a></li>
	{% endif %}
	{% endfor %}
	{% if posts.has_next %}
	<li><a href="?page={{ posts.next_page_number }}">&raquo;</a></li>
	{% else %}
	<li class="disabled"><span>&raquo;</span></li>
	{% endif %}
</ul>
{% endif %}

<!--<ul class="pagination">
    <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
    <li class="active"><a href="#!">1</a></li>
    <li class="waves-effect"><a href="#!">2</a></li>
    <li class="waves-effect"><a href="#!">3</a></li>
    <li class="waves-effect"><a href="#!">4</a></li>
    <li class="waves-effect"><a href="#!">5</a></li>
    <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
  </ul>-->


<br>
<a href="{% url 'post:post_write' %}"><button class="btn purple darken-1">글쓰기</button></a>

{% endblock %}

